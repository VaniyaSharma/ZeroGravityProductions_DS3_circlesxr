<html>
  <head>
    <!-- Circles' head scripts [REQUIRED] -->
    <circles-start-scripts />

    <script src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script>
    <script src="scripts/cave-carry-manager.js"></script>
  </head>
  <body>
    <!-- this is used to create our enter UI that creates a 2D overlay to capture a user gesture for sound/mic access etc. -->
    <circles-start-ui />

    <!-- a-scene with 'circles-properties' component [REQUIRED] -->
    <a-scene circles_scene_properties>
      <a-assets>
        <!-- 360 -->
        <img
          id="link_1_360"
          src="/global/images/ZGS_room1.jpg"
          crossorigin="anonymous"
        />
        <a-asset-item
          id="diamond_glb"
          src="assets/diamond-music.glb"
          crossorigin="anonymous"
        ></a-asset-item>
        <a-asset-item
          id="cube_glb"
          src="assets/cube-music.glb"
          crossorigin="anonymous"
        ></a-asset-item>
        <a-asset-item
          id="sphere_glb"
          src="assets/sphere-music.glb"
          crossorigin="anonymous"
        ></a-asset-item>
        <a-asset-item
          id="triangle_glb"
          src="assets/triangle-music.glb"
          crossorigin="anonymous"
        ></a-asset-item>
        <a-asset-item
          id="seed_glb"
          src="assets/Seed.glb"
          crossorigin="anonymous"
        ></a-asset-item>
        <!-- Circles' built-in assets [REQUIRED] -->
        <circles-assets />
      </a-assets>

      <!-- Carry manager script! -->
      <a-entity id="GameManager" carry-manager></a-entity>
      <!-- Circles' built-in manager and avatar [REQUIRED] -->
      <circles-manager-avatar />

      <!-- links to other worlds -->
      <a-entity
        id="link_1"
        position="0 1.22 5"
        rotation="0 90 0"
        scale="0.100 0.950 1.010"
        circles-portal="img_src:#link_1_360; title_text:Sunrise; link_url:/w/ZGS"
        shadow
      ></a-entity>

      <!-- shapes -->

      <a-entity
        id="cube"
        gltf-model="#cube_glb"
        position="-2 1.6 -4"
        circles-interactive-object="type:highlight;"
        position-locker="target: 0.0 1.464 1.153; threshold: 0.1"
        scale="2 2 2"
      ></a-entity>

      <a-entity
        id="triangle"
        gltf-model="#triangle_glb"
        position="-1 1.6 -4"
        circles-interactive-object="type:highlight;"
        position-locker="target: 0.0 1.464 1.153; threshold: 0.1"
        scale="2 2 2"
      ></a-entity>

      <a-entity
        id="diamond"
        gltf-model="#diamond_glb"
        position="0 1.6 -4"
        circles-interactive-object="type:outline;"
        position-locker="target: 0.0 1.464 1.153; threshold: 0.1"
        scale="2 2 2"
      ></a-entity>

      <a-entity
        id="sphere"
        gltf-model="#sphere_glb"
        position="1 1.6 -4"
        circles-interactive-object="type:scale;"
        position-locker="target: 0.0 1.464 1.153; threshold: 0.1"
        scale="2 2 2"
      ></a-entity>

      <!-- seed! -->

      <a-entity
        id="seed"
        gltf-model="#seed_glb"
        position="-0.50 0.6 -0.2"
        circles-pickup-object="animate:false;"
        circles-interactive-object="type:highlight;"
        circles-pickup-networked
        position-locker="target: 0.0 1.464 1.153; threshold: 0.1"
      ></a-entity>

      <!-- environment -->
      <!-- the environment -->

      <a-entity environment="preset:arches"></a-entity>
    </a-scene>

    <!-- Circles' end scripts [REQUIRED] -->
    <circles-end-scripts />
  </body>

  <script src="scripts/melody-game.js"></script>
</html>
